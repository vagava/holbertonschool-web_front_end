<!DOCTYPE html>
<html lang='en' dir='ltr'>
  <head>

    <meta charset='utf-8' />
      <title>Task 6</title>
      <script
			  src='https://code.jquery.com/jquery-3.6.0.slim.min.js'
			  integrity='sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI='
			  crossorigin='anonymous'></script>
  </head>

  <body>
    <script type='application/javascript'>
      $(function () {
        function createFamilyTree () {
          table = $('<table></table>')
            .append($('<thead></thead>')
              .append($('<tr></tr>')
                .append($('<th></th>').text('Firstname'))
                .append($('<th></th>').text('Lastname'))
              )
            )
            .append($('<tbody></tbody>'))
          $('body').append(table);
        }

        function addNewMember (firstName, lastName, position) {
          newRow = $('<tr></tr>')
                .append($('<th></th>').text(firstName))
                .append($('<th></th>').text(lastName))
                .append($('<th></th>').text('(x)')
                  .css("background", "orange")
                  .click(function(){
                    $(this).parent().remove();
                  }))
          if (position === "before") {
            $("tbody").prepend(newRow);
          } else {
            $("tbody").append(newRow);
          }
        }
        function createForm() {
          $("table").before("<input type='text'/> <input type='text'/>");
          $("table").before(`<select>
              <option value='before'>Before</option>
              <option value='after'>After</option>
            </select>`);
          $("table").before($("<input type='submit' />").click(
            function () {
              firstName = $("input").first().val();
              lastName = $("input:nth-of-type(2)").val();
              position = $("select").val();
              addNewMember(firstName, lastName, position);
            }
          ));
        }
        createFamilyTree();
        createForm();
      });
    </script>
  </body>

</html>